{% extends 'base.html.twig' %}

{% block title %}{{ parent() }} Userübersicht{% endblock %}

{% block body %}
    <h1 class="text-4xl my-8 text-center">Userübersicht</h1>

    <div class="grid gap-4 md:grid-cols-2 lg:grid-cols-3 mx-8">
        {% for user in users %}
            <div class="bg-white rounded-lg shadow-md p-4">
                <p class="text-xl font-semibold mb-2">{{ user.username }}</p>
                <form action="{{ path('user.change_role', {'id': user.id}) }}" method="post" class="flex items-center">
                    <select name="role" class="mr-2 px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        <option value="ROLE_USER" {% if 'ROLE_USER' in user.roles %}selected{% endif %}>User</option>
                        <option value="ROLE_AV" {% if 'ROLE_AV' in user.roles %}selected{% endif %}>AV</option>
                        <option value="ROLE_FV" {% if 'ROLE_FV' in user.roles %}selected{% endif %}>FV</option>
                        <option value="ROLE_ADMIN" {% if 'ROLE_ADMIN' in user.roles %}selected{% endif %}>Admin</option>
                    </select>
                    <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">
                        Rolle ändern
                    </button>
                </form>
            </div>
        {% endfor %}
    </div>
{% endblock %}
